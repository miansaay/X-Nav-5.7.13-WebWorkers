<!DOCTYPE html>
<html>
 <head>
  <title>Ejercicio con WebWorkers</title>

  <script>
function buscarPrimos() {
  var worker = new Worker("webworkers.js");
  var num = parseInt(document.getElementById("formulario").input.value);
  worker.postMessage(num);
  worker.onmessage = function(event) {
    //console.log("Hemos recibido " + event.data);
    document.getElementById('result').innerHTML = event.data;
    worker.terminate();
  }
}

//function buscarPrimos() {
  //var n = 1;
  //primelist = "";
  //search: while (n<parseInt(document.getElementById("formulario").input.value)) {
    //n += 1;
    //for (var i = 2; i <= Math.sqrt(n); i += 1)
      //if (n % i == 0)
        //continue search;
    // found a prime!
    //primelist += " " + n;
    //document.getElementById('result').innerHTML = primelist;
  //}
//}
  </script>


 </head>
 <body>
  <form id="formulario" action="" method="POST">
  Numero: <input type="text" name="input">
  </form>
  <button onclick="buscarPrimos()">Buscar primos</button>
  <p>Los numeros primos hasta el numero dado son: <span id="result"></span></p>


 </body>
</html>
